

1. 做一次库存量检测
2. 创建订单
3. 减库存--预扣除
4. if pay 真正减库存
5. 一定时间没支付此订单， 还原库存

难点：
    还原库存
    1）写定时器，每隔1分钟遍历数据库， 找超时订单， 还原库存（性能差，麻烦）
        定时器： 还可以用linux crontab
    2）任务队列
        订单任务加入到任务队列里，30分钟没支付，还原
        redis 带任务队列
    3）任务队列 好过 定时器（精度差，耗资源）
    